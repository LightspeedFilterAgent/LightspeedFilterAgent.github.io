<!DOCTYPE html>
<html>
<head>
  <title>Canvas - Beaverton School District</title>
  <link rel="icon" type="image/x-icon" href="https://zoophagous-beige-cobra.faviconkit.com/www.beaverton.k12.or.us/departments/teaching-learning/future-ready/canvas/256">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            background-image: url("./topg.png");
            background-repeat: no-repeat;
            background-size: cover;
        }      
        .draggable-iframe {
            position: absolute;
            width: 300px;
            height: 200px;
            border: 1px solid #ccc;
        }
        .draggable-iframe .top-bar {
            background-color: #f1f1f1;
            cursor: move;
            height: 20px;
            position: relative;
            z-index: 1;
        }
        .options-menu {
            display: none;
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 10px;
            background-color: #f1f1f1;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .toggle-button {
            position: fixed;
            bottom: 10px;
            right: 10px;
            padding: 10px;
            background-color: #f1f1f1;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
        }
        .delete-button {
            position: absolute;
            top: 5px;
            right: 5px;
            padding: 2px 5px;
            background-color: #f1f1f1;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            z-index: 2;
        }
        .draggable-iframe iframe {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <button id="create-iframe">Create Window</button>
    <div class="options-menu">
        <h4>Settings</h4>
        <label for="url-select">Select URL:</label>
        <select id="url-select">
            <option value="https://igobylotsofnames.renderisgood.workers.dev">Elixir</option>
            <option value="https://karensarewhyredditissopopular.onrender.com">Hypertabs</option>
        </select>
        <button id="change-url">Change URL</button>
    </div>
    <div class="toggle-button">Toggle Settings</div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        var iframeCount = 0;
        var iframeUrl = "";
        var settingsVisible = false;

        document.getElementById("create-iframe").addEventListener("click", function() {
            var iframe = document.createElement("iframe");
            iframe.setAttribute("src", iframeUrl);
            iframe.setAttribute("frameborder", "0");
            iframe.setAttribute("allowfullscreen", "true");

            var draggableIframe = document.createElement("div");
            draggableIframe.className = "draggable-iframe";

            var topBar = document.createElement("div");
            topBar.className = "top-bar";
            draggableIframe.appendChild(topBar);

            var deleteButton = document.createElement("div");
            deleteButton.className = "delete-button";
            deleteButton.textContent = "Delete";
            deleteButton.addEventListener("click", function() {
                draggableIframe.remove();
            });
            draggableIframe.appendChild(deleteButton);

            draggableIframe.appendChild(iframe);

            document.body.appendChild(draggableIframe);

            // Make the iframe draggable and resizable
            $(function() {
                $(draggableIframe).draggable({ handle: ".top-bar" });
                $(draggableIframe).resizable();
            });
        });

        document.getElementById("change-url").addEventListener("click", function() {
            var select = document.getElementById("url-select");
            var selectedIndex = select.selectedIndex;
            var selectedOption = select.options[selectedIndex];
            iframeUrl = selectedOption.value;
        });

        // Toggle settings visibility
        document.querySelector(".toggle-button").addEventListener("click", function() {
            var optionsMenu = document.querySelector(".options-menu");
            settingsVisible = !settingsVisible;
            optionsMenu.style.display = settingsVisible ? "block" : "none";
        });
    </script>
</body>
</html>
